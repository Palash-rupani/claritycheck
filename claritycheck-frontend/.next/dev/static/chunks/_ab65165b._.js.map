{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/claritycheck/claritycheck-frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/claritycheck/claritycheck-frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///D:/claritycheck/claritycheck-frontend/src/components/Header.tsx"],"sourcesContent":["'use client'\n\nimport { FC } from 'react'\nimport Link from 'next/link'\nimport { Button } from '@/components/ui/button'\nimport { CheckCircle2 } from 'lucide-react'\n\nconst Header: FC = () => {\n  return (\n    <header className=\"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n      <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex h-16 items-center justify-between\">\n          {/* Brand */}\n          <Link href=\"/\" className=\"flex items-center gap-2\">\n            <div className=\"flex h-8 w-8 items-center justify-center rounded-lg bg-primary\">\n              <CheckCircle2 className=\"h-5 w-5 text-primary-foreground\" />\n            </div>\n            <span className=\"hidden font-bold text-foreground sm:inline\">\n              ClarityCheck\n            </span>\n          </Link>\n\n          {/* Navigation */}\n          <nav className=\"hidden flex-1 items-center justify-center gap-8 md:flex\">\n            <Link href=\"/\" className=\"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors\">\n              Home\n            </Link>\n            <Link href=\"/dashboard\" className=\"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors\">\n              Dashboard\n            </Link>\n            <Link href=\"/about\" className=\"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors\">\n              About\n            </Link>\n          </nav>\n\n          {/* CTA Button */}\n          <Button asChild className=\"bg-primary hover:bg-primary/90\">\n            <Link href=\"/products/new\">Add Product</Link>\n          </Button>\n        </div>\n      </div>\n    </header>\n  )\n}\n\nexport default Header\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAOA,MAAM,SAAa;IACjB,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC,0KAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACvB,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,wOAAY;oCAAC,WAAU;;;;;;;;;;;0CAE1B,6LAAC;gCAAK,WAAU;0CAA6C;;;;;;;;;;;;kCAM/D,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,0KAAI;gCAAC,MAAK;gCAAI,WAAU;0CAAoF;;;;;;0CAG7G,6LAAC,0KAAI;gCAAC,MAAK;gCAAa,WAAU;0CAAoF;;;;;;0CAGtH,6LAAC,0KAAI;gCAAC,MAAK;gCAAS,WAAU;0CAAoF;;;;;;;;;;;;kCAMpH,6LAAC,wIAAM;wBAAC,OAAO;wBAAC,WAAU;kCACxB,cAAA,6LAAC,0KAAI;4BAAC,MAAK;sCAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMvC;KApCM;uCAsCS"}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///D:/claritycheck/claritycheck-frontend/src/components/Footer.tsx"],"sourcesContent":["'use client'\n\nimport { FC } from 'react'\nimport Link from 'next/link'\n\nconst Footer: FC = () => {\n  return (\n    <footer className=\"border-t border-border bg-muted/30 py-12\">\n      <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n        <div className=\"grid grid-cols-1 gap-8 md:grid-cols-4\">\n          {/* Brand Column */}\n          <div className=\"col-span-1\">\n            <h3 className=\"font-bold text-foreground\">ClarityCheck</h3>\n            <p className=\"mt-2 text-sm text-muted-foreground\">\n              Building trust through product transparency and AI-powered insights.\n            </p>\n          </div>\n\n          {/* Values Column */}\n          <div>\n            <h4 className=\"font-semibold text-foreground\">Mission</h4>\n            <ul className=\"mt-4 space-y-2\">\n              <li className=\"text-sm text-muted-foreground\">Health</li>\n              <li className=\"text-sm text-muted-foreground\">Wisdom</li>\n              <li className=\"text-sm text-muted-foreground\">Virtue</li>\n            </ul>\n          </div>\n\n          {/* Links Column */}\n          <div>\n            <h4 className=\"font-semibold text-foreground\">Product</h4>\n            <ul className=\"mt-4 space-y-2\">\n              <li><Link href=\"/about\" className=\"text-sm text-muted-foreground hover:text-foreground transition-colors\">About</Link></li>\n              <li><Link href=\"/dashboard\" className=\"text-sm text-muted-foreground hover:text-foreground transition-colors\">Dashboard</Link></li>\n            </ul>\n          </div>\n\n          {/* Legal Column */}\n          <div>\n            <h4 className=\"font-semibold text-foreground\">Legal</h4>\n            <ul className=\"mt-4 space-y-2\">\n              <li><a href=\"#\" className=\"text-sm text-muted-foreground hover:text-foreground transition-colors\">Privacy</a></li>\n              <li><a href=\"#\" className=\"text-sm text-muted-foreground hover:text-foreground transition-colors\">Terms</a></li>\n            </ul>\n          </div>\n        </div>\n\n        <div className=\"mt-8 border-t border-border pt-8 text-center text-sm text-muted-foreground\">\n          <p>&copy; 2025 ClarityCheck. All rights reserved.</p>\n        </div>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKA,MAAM,SAAa;IACjB,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAA4B;;;;;;8CAC1C,6LAAC;oCAAE,WAAU;8CAAqC;;;;;;;;;;;;sCAMpD,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAAgC;;;;;;8CAC9C,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;4CAAG,WAAU;sDAAgC;;;;;;sDAC9C,6LAAC;4CAAG,WAAU;sDAAgC;;;;;;sDAC9C,6LAAC;4CAAG,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;sCAKlD,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAAgC;;;;;;8CAC9C,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;sDAAG,cAAA,6LAAC,0KAAI;gDAAC,MAAK;gDAAS,WAAU;0DAAwE;;;;;;;;;;;sDAC1G,6LAAC;sDAAG,cAAA,6LAAC,0KAAI;gDAAC,MAAK;gDAAa,WAAU;0DAAwE;;;;;;;;;;;;;;;;;;;;;;;sCAKlH,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAAgC;;;;;;8CAC9C,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;sDAAG,cAAA,6LAAC;gDAAE,MAAK;gDAAI,WAAU;0DAAwE;;;;;;;;;;;sDAClG,6LAAC;sDAAG,cAAA,6LAAC;gDAAE,MAAK;gDAAI,WAAU;0DAAwE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAKxG,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;kCAAE;;;;;;;;;;;;;;;;;;;;;;AAKb;KAhDM;uCAkDS"}},
    {"offset": {"line": 465, "column": 0}, "map": {"version":3,"sources":["file:///D:/claritycheck/claritycheck-frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///D:/claritycheck/claritycheck-frontend/src/lib/api.ts"],"sourcesContent":["const BASE_URL = \"http://localhost:8000\";\n\nexport async function createProduct(payload: {\n  name: string;\n  category: string;\n  description: string;\n  claim: string;\n}) {\n  const res = await fetch(`${BASE_URL}/products`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(payload),\n  });\n  if (!res.ok) throw new Error(\"Failed to create product\");\n  return res.json();\n}\n\nexport async function getProduct(productId: string) {\n  const res = await fetch(`${BASE_URL}/products/${productId}`);\n  if (!res.ok) throw new Error(\"Failed to load product\");\n  return res.json();\n}\n\nexport async function fetchLatestFollowups(productId: string) {\n  const res = await fetch(`${BASE_URL}/products/${productId}/followups`);\n  if (!res.ok) throw new Error(\"Failed to fetch followups\");\n  return res.json();\n}\n\nexport async function saveProfile(productId: string, profile: any) {\n  const res = await fetch(`${BASE_URL}/products/${productId}/profile`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ profile }),\n  });\n  if (!res.ok) throw new Error(\"Failed to save profile\");\n  return res.json();\n}\n\nexport async function saveAnswers(\n  productId: string,\n  answers: Record<string, string>\n) {\n  const res = await fetch(`${BASE_URL}/products/${productId}/answers`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ answers }),\n  });\n  if (!res.ok) throw new Error(\"Failed to save answers\");\n  return res.json();\n}\n\n// Optional: AI options (if used)\nexport async function generateOptions(productId: string) {\n  const res = await fetch(`${BASE_URL}/products/${productId}/options`, {\n    method: \"POST\",\n  });\n  if (!res.ok) throw new Error(\"Failed to generate AI options\");\n  return res.json();\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,MAAM,WAAW;AAEV,eAAe,cAAc,OAKnC;IACC,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,SAAS,CAAC,EAAE;QAC9C,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,WAAW,SAAiB;IAChD,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,UAAU,EAAE,WAAW;IAC3D,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,qBAAqB,SAAiB;IAC1D,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,UAAU,EAAE,UAAU,UAAU,CAAC;IACrE,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,YAAY,SAAiB,EAAE,OAAY;IAC/D,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,UAAU,EAAE,UAAU,QAAQ,CAAC,EAAE;QACnE,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;QAAQ;IACjC;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,YACpB,SAAiB,EACjB,OAA+B;IAE/B,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,UAAU,EAAE,UAAU,QAAQ,CAAC,EAAE;QACnE,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;QAAQ;IACjC;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB;AAGO,eAAe,gBAAgB,SAAiB;IACrD,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,UAAU,EAAE,UAAU,QAAQ,CAAC,EAAE;QACnE,QAAQ;IACV;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 661, "column": 0}, "map": {"version":3,"sources":["file:///D:/claritycheck/claritycheck-frontend/src/lib/reportEngine.ts"],"sourcesContent":["// src/lib/reportEngine.ts\r\n\r\nexport interface AnalysisResult {\r\n  overall: number;\r\n  ingredientSafety: number;\r\n  claimCredibility: number;\r\n  traceability: number;\r\n  completeness: number;\r\n  riskFlags: string[];\r\n  summary: string;\r\n}\r\n\r\nexport function analyzeProduct(product: any, followups: any[]): AnalysisResult {\r\n  const name = product?.name || \"\";\r\n  const category = product?.category?.toLowerCase() || \"\";\r\n  const claim = product?.claim || \"\";\r\n  const description = product?.description || \"\";\r\n\r\n  // Common profile fields\r\n  const ingredients = product?.ingredients || product?.profile?.ingredients || \"\";\r\n  const sourcing = product?.sourcing || product?.profile?.sourcing || \"\";\r\n  const certs = product?.certifications || product?.profile?.certifications || \"\";\r\n  const details = product?.profile?.additionalDetails || \"\";\r\n\r\n  // --------------------------------------------------------\r\n  // 1. INGREDIENT SAFETY (SMARTER)\r\n  // --------------------------------------------------------\r\n  let ingredientSafety = 0;\r\n\r\n  if (!ingredients) {\r\n    ingredientSafety = 20; // minimal score if missing\r\n  } else {\r\n    const ingLower = ingredients.toLowerCase();\r\n\r\n    const harmful = [\"paraben\", \"sls\", \"petroleum\", \"mineral oil\", \"formaldehyde\"];\r\n    const positives = [\"aloe\", \"vitamin\", \"organic\", \"natural\", \"plant\", \"herbal\"];\r\n\r\n    const harmScore = harmful.some(h => ingLower.includes(h)) ? -30 : 0;\r\n    const posScore = positives.some(p => ingLower.includes(p)) ? 40 : 0;\r\n\r\n    ingredientSafety = 60 + harmScore + posScore;\r\n    ingredientSafety = Math.max(10, Math.min(ingredientSafety, 95));\r\n  }\r\n\r\n  // --------------------------------------------------------\r\n  // 2. CLAIM CREDIBILITY\r\n  // --------------------------------------------------------\r\n  let claimCredibility = 50;\r\n\r\n  if (!claim) claimCredibility = 30;\r\n  else {\r\n    const sensitive = [\"organic\", \"vegan\", \"cruelty-free\", \"natural\", \"clean beauty\"];\r\n\r\n    const containsSensitive = sensitive.some(c => claim.toLowerCase().includes(c));\r\n    claimCredibility = containsSensitive ? 70 : 55;\r\n\r\n    if (certs) claimCredibility += 20;\r\n    claimCredibility = Math.min(claimCredibility, 95);\r\n  }\r\n\r\n  // --------------------------------------------------------\r\n  // 3. TRACEABILITY (Manufacturing + Sourcing)\r\n  // --------------------------------------------------------\r\n  let traceability = 40;\r\n\r\n  if (sourcing) traceability += 30;\r\n  if (certs) traceability += 20;\r\n  if (details) traceability += 10;\r\n\r\n  traceability = Math.min(traceability, 95);\r\n\r\n  // --------------------------------------------------------\r\n  // 4. COMPLETENESS SCORE\r\n  // --------------------------------------------------------\r\n  const answered = followups.filter(q => q.answer && q.answer.trim() !== \"\").length;\r\n  const total = followups.length;\r\n\r\n  const completeness = total === 0 ? 30 : Math.round((answered / total) * 100);\r\n\r\n  // --------------------------------------------------------\r\n  // 5. RISK FLAGS (SMART)\r\n  // --------------------------------------------------------\r\n  const riskFlags: string[] = [];\r\n\r\n  if (!ingredients) riskFlags.push(\"Ingredients not provided\");\r\n  if (!sourcing) riskFlags.push(\"Sourcing details missing\");\r\n  if (category === \"skincare\" && !certs) riskFlags.push(\"No safety certifications provided\");\r\n  if (claim && completeness < 60) riskFlags.push(\"Claim not fully validated by answers\");\r\n\r\n  if (riskFlags.length === 0) {\r\n    riskFlags.push(\"No major risks detected\");\r\n  }\r\n\r\n  // --------------------------------------------------------\r\n  // 6. OVERALL SCORE (SMART WEIGHTING)\r\n  // --------------------------------------------------------\r\n  const overall =\r\n    Math.round(\r\n      ingredientSafety * 0.35 +\r\n      claimCredibility * 0.15 +\r\n      traceability * 0.25 +\r\n      completeness * 0.25\r\n    );\r\n\r\n  // --------------------------------------------------------\r\n  // 7. SUMMARY (EXPERT-LIKE)\r\n  // --------------------------------------------------------\r\n  let summary = \"\";\r\n\r\n  if (overall > 85) summary = \"Excellent transparency. Product demonstrates strong traceability and safe formulation.\";\r\n  else if (overall > 70) summary = \"Good transparency with minor missing disclosures.\";\r\n  else if (overall > 50) summary = \"Moderate transparency. Additional details would improve trust.\";\r\n  else summary = \"Low transparency. Provide more details for a reliable assessment.\";\r\n\r\n  return {\r\n    overall,\r\n    ingredientSafety,\r\n    claimCredibility,\r\n    traceability,\r\n    completeness,\r\n    riskFlags,\r\n    summary\r\n  };\r\n}\r\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;AAYnB,SAAS,eAAe,OAAY,EAAE,SAAgB;IAC3D,MAAM,OAAO,SAAS,QAAQ;IAC9B,MAAM,WAAW,SAAS,UAAU,iBAAiB;IACrD,MAAM,QAAQ,SAAS,SAAS;IAChC,MAAM,cAAc,SAAS,eAAe;IAE5C,wBAAwB;IACxB,MAAM,cAAc,SAAS,eAAe,SAAS,SAAS,eAAe;IAC7E,MAAM,WAAW,SAAS,YAAY,SAAS,SAAS,YAAY;IACpE,MAAM,QAAQ,SAAS,kBAAkB,SAAS,SAAS,kBAAkB;IAC7E,MAAM,UAAU,SAAS,SAAS,qBAAqB;IAEvD,2DAA2D;IAC3D,iCAAiC;IACjC,2DAA2D;IAC3D,IAAI,mBAAmB;IAEvB,IAAI,CAAC,aAAa;QAChB,mBAAmB,IAAI,2BAA2B;IACpD,OAAO;QACL,MAAM,WAAW,YAAY,WAAW;QAExC,MAAM,UAAU;YAAC;YAAW;YAAO;YAAa;YAAe;SAAe;QAC9E,MAAM,YAAY;YAAC;YAAQ;YAAW;YAAW;YAAW;YAAS;SAAS;QAE9E,MAAM,YAAY,QAAQ,IAAI,CAAC,CAAA,IAAK,SAAS,QAAQ,CAAC,MAAM,CAAC,KAAK;QAClE,MAAM,WAAW,UAAU,IAAI,CAAC,CAAA,IAAK,SAAS,QAAQ,CAAC,MAAM,KAAK;QAElE,mBAAmB,KAAK,YAAY;QACpC,mBAAmB,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,kBAAkB;IAC7D;IAEA,2DAA2D;IAC3D,uBAAuB;IACvB,2DAA2D;IAC3D,IAAI,mBAAmB;IAEvB,IAAI,CAAC,OAAO,mBAAmB;SAC1B;QACH,MAAM,YAAY;YAAC;YAAW;YAAS;YAAgB;YAAW;SAAe;QAEjF,MAAM,oBAAoB,UAAU,IAAI,CAAC,CAAA,IAAK,MAAM,WAAW,GAAG,QAAQ,CAAC;QAC3E,mBAAmB,oBAAoB,KAAK;QAE5C,IAAI,OAAO,oBAAoB;QAC/B,mBAAmB,KAAK,GAAG,CAAC,kBAAkB;IAChD;IAEA,2DAA2D;IAC3D,6CAA6C;IAC7C,2DAA2D;IAC3D,IAAI,eAAe;IAEnB,IAAI,UAAU,gBAAgB;IAC9B,IAAI,OAAO,gBAAgB;IAC3B,IAAI,SAAS,gBAAgB;IAE7B,eAAe,KAAK,GAAG,CAAC,cAAc;IAEtC,2DAA2D;IAC3D,wBAAwB;IACxB,2DAA2D;IAC3D,MAAM,WAAW,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,IAAI,EAAE,MAAM,CAAC,IAAI,OAAO,IAAI,MAAM;IACjF,MAAM,QAAQ,UAAU,MAAM;IAE9B,MAAM,eAAe,UAAU,IAAI,KAAK,KAAK,KAAK,CAAC,AAAC,WAAW,QAAS;IAExE,2DAA2D;IAC3D,wBAAwB;IACxB,2DAA2D;IAC3D,MAAM,YAAsB,EAAE;IAE9B,IAAI,CAAC,aAAa,UAAU,IAAI,CAAC;IACjC,IAAI,CAAC,UAAU,UAAU,IAAI,CAAC;IAC9B,IAAI,aAAa,cAAc,CAAC,OAAO,UAAU,IAAI,CAAC;IACtD,IAAI,SAAS,eAAe,IAAI,UAAU,IAAI,CAAC;IAE/C,IAAI,UAAU,MAAM,KAAK,GAAG;QAC1B,UAAU,IAAI,CAAC;IACjB;IAEA,2DAA2D;IAC3D,qCAAqC;IACrC,2DAA2D;IAC3D,MAAM,UACJ,KAAK,KAAK,CACR,mBAAmB,OACnB,mBAAmB,OACnB,eAAe,OACf,eAAe;IAGnB,2DAA2D;IAC3D,2BAA2B;IAC3B,2DAA2D;IAC3D,IAAI,UAAU;IAEd,IAAI,UAAU,IAAI,UAAU;SACvB,IAAI,UAAU,IAAI,UAAU;SAC5B,IAAI,UAAU,IAAI,UAAU;SAC5B,UAAU;IAEf,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 776, "column": 0}, "map": {"version":3,"sources":["file:///D:/claritycheck/claritycheck-frontend/src/components/ReportPreview.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { useParams, useRouter } from 'next/navigation'\nimport Header from '@/src/components/Header'\nimport Footer from '@/src/components/Footer'\nimport ReportPreview from '@/src/components/ReportPreview'\nimport { Button } from '@/components/ui/button'\nimport { Card } from '@/components/ui/card'\nimport { getProduct, fetchLatestFollowups } from '@/src/lib/api'\nimport { Product, FollowupQuestion } from '@/src/types'\nimport { AlertCircle, Loader2, ArrowLeft, Share2 } from 'lucide-react'\nimport { motion } from 'framer-motion'\nimport Link from 'next/link'\nimport html2pdf from 'html2pdf.js'\nimport { analyzeProduct, type AnalysisResult } from '@/src/lib/reportEngine'\n\nexport default function ReportPage() {\n  const params = useParams()\n  const router = useRouter()\n  const productId = params.id as string\n\n  const [loading, setLoading] = useState(true)\n  const [downloading, setDownloading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [product, setProduct] = useState<Product | null>(null)\n  const [questions, setQuestions] = useState<FollowupQuestion[]>([])\n  const [analysis, setAnalysis] = useState<AnalysisResult | null>(null)\n\n  const reportRef = useRef<HTMLDivElement | null>(null)\n\n  useEffect(() => {\n    loadData()\n  }, [productId])\n\n  const loadData = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n\n      const [productData, questionData] = await Promise.all([\n        getProduct(productId),\n        fetchLatestFollowups(productId),\n      ])\n\n      setProduct(productData)\n\n      const questionsList: FollowupQuestion[] = Array.isArray(questionData)\n        ? questionData\n        : questionData.followups || questionData.data || []\n\n      setQuestions(questionsList)\n\n      // ðŸŸ¢ Run analysis\n      const analysisResult = analyzeProduct(productData, questionsList)\n      setAnalysis(analysisResult)\n\n    } catch (err: any) {\n      setError(\n        err.message ||\n          'Failed to load report data. Ensure backend is running at http://localhost:8000'\n      )\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // --------------------------------------------------\n  // PDF DOWNLOAD (LAB COLOR FIX INCLUDED)\n  // --------------------------------------------------\n  const handleDownloadPDF = async () => {\n    if (!reportRef.current || !product) return\n\n    setDownloading(true)\n    setError(null)\n\n    try {\n      // Inject CSS override to FIX LAB COLOR CRASH\n      const style = document.createElement(\"style\")\n      style.id = \"pdf-color-fix\"\n      style.innerHTML = `\n        :root {\n          --background: #ffffff !important;\n          --foreground: #000000 !important;\n          --card: #ffffff !important;\n          --card-foreground: #000000 !important;\n          --popover: #ffffff !important;\n          --popover-foreground: #000000 !important;\n          --primary: #000000 !important;\n          --primary-foreground: #ffffff !important;\n          --secondary: #cccccc !important;\n          --secondary-foreground: #000000 !important;\n          --muted: #f2f2f2 !important;\n          --muted-foreground: #333333 !important;\n          --accent: #000000 !important;\n          --accent-foreground: #ffffff !important;\n          --destructive: #cc0000 !important;\n          --destructive-foreground: #ffffff !important;\n          --border: #cccccc !important;\n          --input: #cccccc !important;\n          --ring: #000000 !important;\n        }\n      `\n      document.head.appendChild(style)\n\n      const opt = {\n        margin: 0.4,\n        filename: `${product.name}-clarity-report.pdf`,\n        html2canvas: {\n          scale: 2,\n          useCORS: true,\n          backgroundColor: '#ffffff',\n        },\n        jsPDF: {\n          unit: 'in',\n          format: 'a4',\n          orientation: 'portrait'\n        }\n      }\n\n      await html2pdf().set(opt).from(reportRef.current).save()\n\n      // Clean up override\n      const injected = document.getElementById(\"pdf-color-fix\")\n      if (injected) injected.remove()\n\n    } catch (err: any) {\n      setError(err.message || 'Failed to generate PDF')\n    } finally {\n      setDownloading(false)\n    }\n  }\n\n  const answeredCount = questions.filter(q => q.answer && q.answer.trim() !== \"\").length\n\n  // --------------------------------------------------\n  // LOADING STATE\n  // --------------------------------------------------\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen flex-col\">\n        <Header />\n        <main className=\"flex-1 py-12\">\n          <div className=\"mx-auto max-w-2xl px-4\">\n            <Card className=\"h-96 animate-pulse bg-muted\" />\n          </div>\n        </main>\n        <Footer />\n      </div>\n    )\n  }\n\n  // --------------------------------------------------\n  // MAIN UI\n  // --------------------------------------------------\n  return (\n    <div className=\"flex min-h-screen flex-col\">\n      <Header />\n\n      <main className=\"flex-1 py-12\">\n        <div className=\"mx-auto max-w-2xl px-4 sm:px-6 lg:px-8\">\n\n          {/* BACK BUTTON */}\n          <motion.div\n            initial={{ opacity: 0, x: -10 }}\n            animate={{ opacity: 1, x: 0 }}\n            className=\"mb-6\"\n          >\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => router.back()}\n              className=\"gap-2\"\n            >\n              <ArrowLeft className=\"h-4 w-4\" />\n              Back\n            </Button>\n          </motion.div>\n\n\n          {/* HEADER */}\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.3 }}\n            className=\"mb-8\"\n          >\n            <h1 className=\"text-3xl font-bold text-foreground\">Transparency Report</h1>\n            <p className=\"mt-2 text-lg text-muted-foreground\">Your product transparency analysis is ready</p>\n          </motion.div>\n\n          {/* ERROR ALERT */}\n          {error && (\n            <motion.div\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"mb-6 flex gap-3 rounded-lg border border-destructive/50 bg-destructive/10 p-4\"\n            >\n              <AlertCircle className=\"h-5 w-5 text-destructive flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"text-sm font-medium text-destructive mb-2\">{error}</p>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  onClick={loadData}\n                  className=\"gap-2 text-destructive hover:text-destructive\"\n                >\n                  <Loader2 className=\"h-3 w-3 animate-spin\" />\n                  Try Again\n                </Button>\n              </div>\n            </motion.div>\n          )}\n\n          {/* PDF CONTENT BLOCK */}\n          {product && (\n            <motion.div\n              ref={reportRef}\n              className=\"pdf-safe\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n            >\n              <ReportPreview\n                productName={product.name}\n                productClaim={product.claim}\n                category={product.category}\n                answeredQuestions={answeredCount}\n                totalQuestions={questions.length}\n                analysis={analysis || undefined}\n                onDownload={handleDownloadPDF}\n                loading={downloading}\n              />\n            </motion.div>\n          )}\n\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1170, "column": 0}, "map": {"version":3,"sources":["file:///D:/claritycheck/claritycheck-frontend/app/products/%5Bid%5D/report/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { useParams, useRouter } from 'next/navigation'\nimport Header from '@/src/components/Header'\nimport Footer from '@/src/components/Footer'\nimport ReportPreview from '@/src/components/ReportPreview'\nimport { Button } from '@/components/ui/button'\nimport { Card } from '@/components/ui/card'\nimport { getProduct } from '@/src/lib/api'\nimport { Product } from '@/src/types'\nimport { AlertCircle, Loader2, ArrowLeft, Share2 } from 'lucide-react'\nimport { motion } from 'framer-motion'\nimport Link from 'next/link'\nimport html2pdf from 'html2pdf.js'\nimport { analyzeProduct, type AnalysisResult } from '@/src/lib/reportEngine'\n\nexport default function ReportPage() {\n  const params = useParams()\n  const router = useRouter()\n  const productId = params.id as string\n\n  const [loading, setLoading] = useState(true)\n  const [downloading, setDownloading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [product, setProduct] = useState<Product | null>(null)\n  const [analysis, setAnalysis] = useState<AnalysisResult | null>(null)\n\n  const reportRef = useRef<HTMLDivElement | null>(null)\n\n  useEffect(() => {\n    loadData()\n  }, [productId])\n\n  // âœ… ONLY fetch product â€” NO followups (backend doesnâ€™t support it)\n  const loadData = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n\n      const productData = await getProduct(productId)\n      setProduct(productData)\n\n      // â—Since followups endpoint does NOT exist, use empty list\n      const answers: any[] = []\n\n      // ðŸ’¡ Run analysis on product + empty answers list\n      const result = analyzeProduct(productData, answers)\n      setAnalysis(result)\n    } catch (err: any) {\n      setError(\n        err.message ||\n          'Failed to load report data. Ensure backend is running at http://localhost:8000'\n      )\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // âœ… Generate PDF from the whole report section\n  const handleDownloadPDF = async () => {\n    if (!reportRef.current || !product) return\n\n    setDownloading(true)\n    setError(null)\n\n    try {\n      const opt = {\n        margin: 0.5,\n        filename: `${product.name}-clarity-report.pdf`,\n        html2canvas: { scale: 2 },\n        jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' },\n      }\n\n      await html2pdf().set(opt).from(reportRef.current).save()\n    } catch (err: any) {\n      setError(err.message || 'Failed to generate PDF')\n    } finally {\n      setDownloading(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen flex-col\">\n        <Header />\n        <main className=\"flex-1 py-12\">\n          <div className=\"mx-auto max-w-2xl px-4\">\n            <Card className=\"h-96 animate-pulse bg-muted\" />\n          </div>\n        </main>\n        <Footer />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex min-h-screen flex-col\">\n      <Header />\n\n      <main className=\"flex-1 py-12\">\n        <div className=\"mx-auto max-w-2xl px-4 sm:px-6 lg:px-8\">\n          \n          {/* Back button */}\n          <motion.div\n            initial={{ opacity: 0, x: -10 }}\n            animate={{ opacity: 1, x: 0 }}\n            className=\"mb-6\"\n          >\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => router.back()}\n              className=\"gap-2\"\n            >\n              <ArrowLeft className=\"h-4 w-4\" />\n              Back\n            </Button>\n          </motion.div>\n\n          {/* Title */}\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.3 }}\n            className=\"mb-8\"\n          >\n            <h1 className=\"text-3xl font-bold text-foreground\">\n              Transparency Report\n            </h1>\n            <p className=\"mt-2 text-lg text-muted-foreground\">\n              Your product transparency analysis is ready\n            </p>\n          </motion.div>\n\n          {/* Error box */}\n          {error && (\n            <motion.div\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"mb-6 flex gap-3 rounded-lg border border-destructive/50 bg-destructive/10 p-4\"\n            >\n              <AlertCircle className=\"h-5 w-5 text-destructive flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"text-sm font-medium text-destructive mb-2\">\n                  {error}\n                </p>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  onClick={loadData}\n                  className=\"gap-2 text-destructive hover:text-destructive\"\n                >\n                  <Loader2 className=\"h-3 w-3 animate-spin\" />\n                  Try Again\n                </Button>\n              </div>\n            </motion.div>\n          )}\n\n          {/* MAIN REPORT â€” PDF EXPORT TARGET */}\n          {product && (\n            <motion.div\n              ref={reportRef}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.1 }}\n            >\n              <ReportPreview\n                productName={product.name}\n                productClaim={product.claim}\n                category={product.category}\n                answeredQuestions={0}\n                totalQuestions={0}\n                analysis={analysis}\n                onDownload={handleDownloadPDF}\n                loading={downloading}\n              />\n            </motion.div>\n          )}\n\n          {/* EXTRA ACTIONS CARDS */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.2 }}\n            className=\"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6\"\n          >\n            <Card className=\"p-6\">\n              <h3 className=\"font-semibold text-foreground mb-4\">Report Details</h3>\n              <div className=\"space-y-3 text-sm\">\n                <p className=\"text-muted-foreground\">Status</p>\n                <p className=\"font-medium text-foreground\">Complete</p>\n\n                <p className=\"text-muted-foreground\">Report Type</p>\n                <p className=\"font-medium text-foreground\">Transparency Assessment</p>\n\n                <p className=\"text-muted-foreground\">Format</p>\n                <p className=\"font-medium text-foreground\">PDF</p>\n              </div>\n            </Card>\n\n            <Card className=\"p-6\">\n              <h3 className=\"font-semibold text-foreground mb-4\">Next Steps</h3>\n              <div className=\"space-y-2\">\n                <Button variant=\"outline\" className=\"w-full gap-2\" asChild>\n                  <Link href=\"/dashboard\">\n                    <ArrowLeft className=\"h-4 w-4\" />\n                    Back to Dashboard\n                  </Link>\n                </Button>\n                <Button variant=\"outline\" className=\"w-full gap-2\">\n                  <Share2 className=\"h-4 w-4\" />\n                  Share Report\n                </Button>\n              </div>\n            </Card>\n          </motion.div>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}